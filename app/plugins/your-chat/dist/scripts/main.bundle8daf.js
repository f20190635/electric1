!function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=13)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";n.r(t),n.d(t,"showLoading",function(){return i}),n.d(t,"hideLoading",function(){return c});var r,o,a=n(0),s=n.n(a),i=function(){return o.addClass("shown")},c=function(){return o.removeClass("shown")};t.default=function(){return r=s()(".your-chat__panel").first(),void(o=r.find(".loading"))}},function(e,t,n){"use strict";n.r(t),n.d(t,"showError",function(){return r});n(0);var r=function(e){"string"!=typeof e&&(e="An error occurred. Please check your Internet connection."),console.error(e)}},function(e,t,n){"use strict";var r=n(0),a=n.n(r);function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * Take data out of arrays if the array length is 1
 */function c(e){return function t(n){return Array.isArray(n)&&1===n.length?t(n[0]):("object"===i(n)&&null!==n&&(Array.isArray(n)?o(Array(n.length).keys()):Object.keys(n)).forEach(function(e){n[e]=t(n[e])}),n)}(e)}function u(e){return t=e,n={action:"your-chat/get-qnatypes",security:window.your_chat.ajax_nonce},void a.a.post(ajaxurl,n).done(function(e){if(!e.success)return Object(f.showError)(e.message);"function"==typeof t&&t(c(e.data))}).fail(function(e,t,n){return Object(f.showError)()});var t,n}var l,f=n(2),d=n(1),p=n(4);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=function(e,o){var t={action:"your-chat/get-qna",id:e,security:window.your_chat.ajax_nonce};a.a.post(ajaxurl,t).done(function(e){if(!e.success)return Object(f.showError)(e.message);var t=Date.now(),n=Math.max(1500-t+o,0),r=c(e.data);setTimeout(function(){Object(p.render)(g(r)),Object(d.hideLoading)()},n)}).fail(function(e,t,n){return Object(f.showError)()})},g=function(e){return"object"===y(e)&&null!==e||Object(f.showError)(),"string"!=typeof e.qnATypeId||"string"!=typeof l[e.qnATypeId]?e.qnATypeId="Answer":e.qnATypeId=l[e.qnATypeId],e.childQnAs||(e.childQnAs=[]),"object"===y(e.childQnAs)&&Array.isArray(e.childQnAs)||(e.childQnAs=[e.childQnAs]),"string"!=typeof e.qText&&(e.qText=""),"string"!=typeof e.id&&(e.id=""),{type:e.qnATypeId,options:e.childQnAs,text:e.qText,user:"bot",id:e.id}};t.a=function(e){return function(t){Object(d.showLoading)();var n=Date.now();"object"!==y(l)?u(function(e){l={},Object.entries(e).forEach(function(e){var t=m(e,2),n=(t[0],t[1]);return l[n.id]=n.name}),h(t,n)}):h(t,n)}(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"render",function(){return f});var r,o,a,s,i=n(0),c=n.n(i),u=n(1),l=n(3),f=function(e){if(e.user&&e.text){var t,n,r=c()('<div class="msg '.concat("user"!==e.user?"not_deployed":""," ").concat(e.user,'"><div>').concat(e.text,"</div></div>")),o="";switch(e.type){case"Multiple Choice":e.options.length&&(e.options.sort(d),r.attr("msg_id",e.id),o='<div class="options not_deployed '.concat(e.user,'">'),e.options.forEach(function(e){e.id&&e.linkText&&(o+='<div msg_id="'.concat(e.id,'">').concat(e.linkText,"</div>"))}),o+="</div>",t=c()(o));break;case"Single":e.options.length?setTimeout(function(){return Object(l.a)(e.options[0].id)},500):n=c()('<div class="ask-again not_deployed" msg_id="'.concat(s,'">Ask another question</a>'))}setTimeout(function(){r.removeClass("not_deployed"),t&&t.removeClass("not_deployed"),n&&setTimeout(function(){return n.removeClass("not_deployed")},500)},50),a.append(r,t,n),Object(u.hideLoading)(),p()}},d=function(e,t){return parseFloat(e.order)-parseFloat(t.order)},p=function(){return o.scrollTop(o[0].scrollHeight)};t.default=function(){return r=c()(".your-chat__panel").first(),o=r.find(".chat-content"),a=o.find(".wrap"),void(s=r.attr("init_q"))}},function(e,t,n){var r={"./bubble.js":6,"./panel.js":7};function o(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(r)},o.resolve=a,(e.exports=o).id=5},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);t.default=function(){return e=o()(".your-chat__panel").first(),t=o()(".your-chat__bubble").first(),setTimeout(function(){return t.removeClass("hidden")},30),void t.click(function(){t.addClass("activated"),e.addClass("activated")});var e,t}},function(e,t,n){"use strict";n.r(t);var r,o,a,s,i,c,u,l=n(0),f=n.n(l),d=n(3),p=n(1),m=n(4),v=function(){var e=r.height();s.css({"max-height":e})},y=function(e){var t=e.closest(".options"),n=e.attr("msg_id"),r=e.html();n&&r&&(Object(p.showLoading)(),t.remove(),Object(m.render)({type:"Answer",options:[],text:r,user:"user",id:n}),Object(d.a)(n))};t.default=function(){return function(){r=f()(".your-chat__panel").first(),o=f()(".your-chat__bubble").first(),a=r.find(".close"),s=r.find(".chat-content"),i=r.find(".reset"),c=s.find(".wrap"),u=r.attr("init_q"),a.click(function(){r.removeClass("activated"),o.removeClass("activated")}),i.click(function(){c.html(""),Object(d.a)(u)});var n=!1;r.on("click","a",function(e){n=!0,setTimeout(function(){n=!1},100)}),r.click(function(e){if(!0!==n){var t=f()(e.target).closest("[msg_id]");t&&y(t)}}),v(),f()(window).on("resize",v),setTimeout(function(){return Object(d.a)(u)},20)}()}},function(e,t,n){var r={"./errors.js":2,"./loading.js":1,"./message.js":4};function o(e){var t=a(e);return n(t)}function a(e){if(n.o(r,e))return r[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return Object.keys(r)},o.resolve=a,(e.exports=o).id=8},,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);
/*!
 * css-vars-ponyfill
 * v2.1.2
 * https://jhildenbiddle.github.io/css-vars-ponyfill/
 * (c) 2018-2019 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}
/*!
 * get-css-data
 * v1.6.3
 * https://github.com/jhildenbiddle/get-css-data
 * (c) 2018-2019 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */()}function p(e,t
/**
 * Gets CSS data from <style> and <link> nodes (including @imports), then
 * returns data in order processed by DOM. Allows specifying nodes to
 * include/exclude and filtering CSS data using RegEx.
 *
 * @preserve
 * @param {object}   [options] The options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes.
 * @param {string}   [options.include] CSS selector matching <link> and <style>
 *                   nodes to include
 * @param {string}   [options.exclude] CSS selector matching <link> and <style>
 *                   nodes to exclude
 * @param {object}   [options.filter] Regular expression used to filter node CSS
 *                   data. Each block of CSS data is tested against the filter,
 *                   and only matching data is included.
 * @param {object}   [options.useCSSOM=false] Determines if CSS data will be
 *                   collected from a stylesheet's runtime values instead of its
 *                   text content. This is required to get accurate CSS data
 *                   when a stylesheet has been modified using the deleteRule()
 *                   or insertRule() methods because these modifications will
 *                   not be reflected in the stylesheet's text content.
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments.
 * @param {function} [options.onSuccess] Callback on each CSS node read. Passes
 *                   1) CSS text, 2) source node reference, and 3) the source
 *                   URL as arguments.
 * @param {function} [options.onError] Callback on each error. Passes 1) the XHR
 *                   object for inspection, 2) soure node reference, and 3) the
 *                   source URL that failed (either a <link> href or an @import)
 *                   as arguments
 * @param {function} [options.onComplete] Callback after all nodes have been
 *                   processed. Passes 1) concatenated CSS text, 2) an array of
 *                   CSS text in DOM order, and 3) an array of nodes in DOM
 *                   order as arguments.
 *
 * @example
 *
 *   getCssData({
 *     rootElement: document,
 *     include    : 'style,link[rel="stylesheet"]',
 *     exclude    : '[href="skip.css"]',
 *     filter     : /red/,
 *     useCSSOM   : false,
 *     onBeforeSend(xhr, node, url) {
 *       // ...
 *     }
 *     onSuccess(cssText, node, url) {
 *       // ...
 *     }
 *     onError(xhr, node, url) {
 *       // ...
 *     },
 *     onComplete(cssText, cssArray, nodeArray) {
 *       // ...
 *     }
 *   });
 */){var n=1<arguments.length&&void 0!==t?t:{},o={mimeType:n.mimeType||null,onBeforeSend:n.onBeforeSend||Function.prototype,onSuccess:n.onSuccess||Function.prototype,onError:n.onError||Function.prototype,onComplete:n.onComplete||Function.prototype},r=Array.isArray(e)?e:[e],a=Array.apply(null,Array(r.length)).map(function(e){return null});function s(e){return!("<"===(0<arguments.length&&void 0!==e?e:"").trim().charAt(0))}function i(e,t){o.onError(e,r[t],t)}function c(e,t){var n=o.onSuccess(e,r[t],t);e=!1===n?"":n||e,a[t]=e,-1===a.indexOf(null)&&o.onComplete(a)}var u=document.createElement("a");r.forEach(function(e,t){if(u.setAttribute("href",e),u.href=String(u.href),Boolean(document.all&&!window.atob)&&u.host.split(":")[0]!==location.host.split(":")[0]){if(u.protocol===location.protocol){var n=new XDomainRequest;n.open("GET",e),n.timeout=0,n.onprogress=Function.prototype,n.ontimeout=Function.prototype,n.onload=function(){s(n.responseText)?c(n.responseText,t):i(n,t)},n.onerror=function(e){i(n,t)},setTimeout(function(){n.send()},0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(e,")")),i(null,t)}else{var r=new XMLHttpRequest;r.open("GET",e),o.mimeType&&r.overrideMimeType&&r.overrideMimeType(o.mimeType),o.onBeforeSend(r,e,t),r.onreadystatechange=function(){4===r.readyState&&(200===r.status&&s(r.responseText)?c(r.responseText,t):i(r,t))},r.send()}})}function a(e){var r={cssComments:/\/\*[\s\S]+?\*\//g,cssImports:/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g},f={rootElement:e.rootElement||document,include:e.include||'style,link[rel="stylesheet"]',exclude:e.exclude||null,filter:e.filter||null,useCSSOM:e.useCSSOM||!1,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},t=Array.apply(null,f.rootElement.querySelectorAll(f.include)).filter(function(e){return t=e,n=f.exclude,!(t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector).call(t,n);var t,n}),i=Array.apply(null,Array(t.length)).map(function(e){return null});function c(){if(-1===i.indexOf(null)){var e=i.join("");f.onComplete(e,i,t)}}function u(e,n,r,t){var o=f.onSuccess(e,r,t);(function r(o,a,s,i){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:[];var u=5<arguments.length&&void 0!==arguments[5]?arguments[5]:[];var l=d(o,s,u);l.rules.length?p(l.absoluteUrls,{onBeforeSend:function(e,t,n){f.onBeforeSend(e,a,t)},onSuccess:function(n,e,t){var r=f.onSuccess(n,a,e),o=d(n=!1===r?"":r||n,e,u);return o.rules.forEach(function(e,t){n=n.replace(e,o.absoluteRules[t])}),n},onError:function(e,t,n){c.push({xhr:e,url:t}),u.push(l.rules[n]),r(o,a,s,i,c,u)},onComplete:function(e){e.forEach(function(e,t){o=o.replace(l.rules[t],e)}),r(o,a,s,i,c,u)}}):i(o,c)})(e=void 0!==o&&!1===Boolean(o)?"":o||e,r,t,function(e,t){null===i[n]&&(t.forEach(function(e){return f.onError(e.xhr,r,e.url)}),!f.filter||f.filter.test(e)?i[n]=e:i[n]="",c())})}function d(e,o,t){var n=2<arguments.length&&void 0!==t?t:[],a={};return a.rules=(e.replace(r.cssComments,"").match(r.cssImports)||[]).filter(function(e){return-1===n.indexOf(e)}),a.urls=a.rules.map(function(e){return e.replace(r.cssImports,"$1")}),a.absoluteUrls=a.urls.map(function(e){return l(e,o)}),a.absoluteRules=a.rules.map(function(e,t){var n=a.urls[t],r=l(a.absoluteUrls[t],o);return e.replace(n,r)}),a}t.length?t.forEach(function(n,r){var o=n.getAttribute("href"),e=n.getAttribute("rel"),t="LINK"===n.nodeName&&o&&e&&"stylesheet"===e.toLowerCase(),a="STYLE"===n.nodeName;if(t)p(o,{mimeType:"text/css",onBeforeSend:function(e,t){f.onBeforeSend(e,n,t)},onSuccess:function(e){var t=l(o,location.href);u(e,r,n,t)},onError:function(e,t){i[r]="",f.onError(e,n,t),c()}});else if(a){var s=n.textContent;f.useCSSOM&&(s=Array.apply(null,n.sheet.cssRules).map(function(e){return e.cssText}).join("")),u(s,r,n,location.href)}else i[r]="",c()}):f.onComplete("",[])}function l(e,t){var n=1<arguments.length&&void 0!==t?t:location.href,r=document.implementation.createHTMLDocument(""),o=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(a),o.href=n,a.href=e,a.href}var b=s;function s(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=c(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function c(e,t,n){var r,o,a,s,i,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(0<=c&&0<u){for(r=[],a=n.length;0<=l&&!i;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?i=[r.pop(),u]:((o=r.pop())<a&&(a=o,s=u),u=n.indexOf(t,l+1)),l=c<u&&0<=c?c:u;r.length&&(i=[a,s])}return i}function h(a,e){var s=g({},{preserveStatic:!0,removeComments:!1},1<arguments.length&&void 0!==e?e:{});function i(e){throw new Error("CSS parse error: ".concat(e))}function c(e){var t=e.exec(a);if(t)return a=a.slice(t[0].length),t}function u(){return c(/^{\s*/)}function l(){return c(/^}/)}function n(){c(/^\s*/)}function r(){if(n(),"/"===a[0]&&"*"===a[1]){for(var e=2;a[e]&&("*"!==a[e]||"/"!==a[e+1]);)e++;if(!a[e])return i("end of comment is missing");var t=a.slice(2,e);return a=a.slice(e+2),{type:"comment",comment:t}}}function f(){for(var e,t=[];e=r();)t.push(e);return s.removeComments?[]:t}function d(){for(n();"}"===a[0];)i("extra closing bracket");var e=c(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e)return e[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"‌")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function o(){c(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g,t=c(/^(\*?[-#\/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=t[0].trim(),!c(/^:\s*/))return i("property missing ':'");var n=c(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),r={type:"declaration",property:t.replace(e,""),value:n?n[0].replace(e,"").trim():""};return c(/^[;\s]*/),r}}function p(){if(!u())return i("missing '{'");for(var e,t=f();e=o();)t.push(e),t=t.concat(f());return l()?t:i("missing '}'")}function m(){n();for(var e,t=[];e=c(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),c(/^,\s*/);if(t.length)return{type:"keyframe",values:t,declarations:p()}}function v(){if(n(),"@"===a[0]){var e=function(){var e=c(/^@([-\w]+)?keyframes\s*/);if(e){var t=e[1];if(!(e=c(/^([-\w]+)\s*/)))return i("@keyframes missing name");var n,r=e[1];if(!u())return i("@keyframes missing '{'");for(var o=f();n=m();)o.push(n),o=o.concat(f());return l()?{type:"keyframes",name:r,vendor:t,keyframes:o}:i("@keyframes missing '}'")}}()||function(){var e=c(/^@supports *([^{]+)/);if(e)return{type:"supports",supports:e[1].trim(),rules:h()}}()||function(){if(c(/^@host\s*/))return{type:"host",rules:h()}}()||function(){var e=c(/^@media([^{]+)*/);if(e)return{type:"media",media:(e[1]||"").trim(),rules:h()}}()||function(){var e=c(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(e)return{type:"custom-media",name:e[1].trim(),media:e[2].trim()}}()||function(){if(c(/^@page */))return{type:"page",selectors:d()||[],declarations:p()}}()||function(){var e=c(/^@([-\w]+)?document *([^{]+)/);if(e)return{type:"document",document:e[2].trim(),vendor:e[1]?e[1].trim():null,rules:h()}}()||function(){if(c(/^@font-face\s*/))return{type:"font-face",declarations:p()}}()||function(){var e=c(/^@(import|charset|namespace)\s*([^;]+);/);if(e)return{type:e[1],name:e[2].trim()}}();if(!e||s.preserveStatic)return e;var t=!1;if(e.declarations)t=e.declarations.some(function(e){return/var\(/.test(e.value)});else t=(e.keyframes||e.rules||[]).some(function(e){return(e.declarations||[]).some(function(e){return/var\(/.test(e.value)})});return t?e:{}}}function y(){if(!s.preserveStatic){var e=b("{","}",a);if(e){var t=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),n=/var\(/.test(e.body);if(!t&&!n)return a=a.slice(e.end+1),{}}}var r=d()||[],o=s.preserveStatic?p():p().filter(function(e){var t=r.some(function(e){return/:(?:root|host)(?![.:#(])/.test(e)})&&/^--\S/.test(e.property),n=/var\(/.test(e.value);return t||n});return r.length||i("selector missing"),{type:"rule",selectors:r,declarations:o}}function h(e){if(!e&&!u())return i("missing '{'");for(var t,n=f();a.length&&(e||"}"!==a[0])&&(t=v()||y());)t.type&&n.push(t),n=n.concat(f());return e||l()?n:i("missing '}'")}return{type:"stylesheet",stylesheet:{rules:h(!0),errors:[]}}}function S(e,t){var o=g({},{parseHost:!1,store:{},onWarning:function(){}},1<arguments.length&&void 0!==t?t:{}),n=new RegExp(":".concat(o.parseHost?"host":"root","(?![.:#(])"));return"string"==typeof e&&(e=h(e,o)),e.stylesheet.rules.forEach(function(e){"rule"===e.type&&e.selectors.some(function(e){return n.test(e)})&&e.declarations.forEach(function(e,t){var n=e.property,r=e.value;n&&0===n.indexOf("--")&&(o.store[n]=r)})}),o.store}function E(e,t,n){var a=1<arguments.length&&void 0!==t?t:"",s=2<arguments.length?n:void 0,i={charset:function(e){return"@charset "+e.name+";"},comment:function(e){return 0===e.comment.indexOf("__CSSVARSPONYFILL")?"/*"+e.comment+"*/":""},"custom-media":function(e){return"@custom-media "+e.name+" "+e.media+";"},declaration:function(e){return e.property+":"+e.value+";"},document:function(e){return"@"+(e.vendor||"")+"document "+e.document+"{"+r(e.rules)+"}"},"font-face":function(e){return"@font-face{"+r(e.declarations)+"}"},host:function(e){return"@host{"+r(e.rules)+"}"},import:function(e){return"@import "+e.name+";"},keyframe:function(e){return e.values.join(",")+"{"+r(e.declarations)+"}"},keyframes:function(e){return"@"+(e.vendor||"")+"keyframes "+e.name+"{"+r(e.keyframes)+"}"},media:function(e){return"@media "+e.media+"{"+r(e.rules)+"}"},namespace:function(e){return"@namespace "+e.name+";"},page:function(e){return"@page "+(e.selectors.length?e.selectors.join(", "):"")+"{"+r(e.declarations)+"}"},rule:function(e){var t=e.declarations;if(t.length)return e.selectors.join(",")+"{"+r(t)+"}"},supports:function(e){return"@supports "+e.supports+"{"+r(e.rules)+"}"}};function r(e){for(var t="",n=0;n<e.length;n++){var r=e[n];s&&s(r);var o=i[r.type](r);o&&(t+=o,o.length&&r.selectors&&(t+=a))}return t}return r(e.stylesheet.rules)}s.range=c;var u="--",f="var";function w(e,t){var c=g({},{preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},1<arguments.length&&void 0!==t?t:{});return"string"==typeof e&&(e=h(e,c)),function e(n,r){n.rules.forEach(function(t){t.rules?e(t,r):t.keyframes?t.keyframes.forEach(function(e){"keyframe"===e.type&&r(e.declarations,t)}):t.declarations&&r(t.declarations,n)})}(e.stylesheet,function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.type,a=r.property,s=r.value;if("declaration"===o)if(c.preserveVars||!a||0!==a.indexOf(u)){if(-1!==s.indexOf(f+"(")){var i=m(s,c);i!==r.value&&(i=d(i),c.preserveVars?(e.splice(n,0,{type:o,property:a,value:i}),n++):r.value=i)}}else e.splice(n,1),n--}}),E(e)}function d(n){return(n.match(/calc\(([^)]+)\)/g)||[]).forEach(function(e){var t="calc".concat(e.split("calc").join(""));n=n.replace(e,t)}),n}function m(e,t,n){var r=1<arguments.length&&void 0!==t?t:{},o=2<arguments.length?n:void 0;if(-1===e.indexOf("var("))return e;var a,s,i,c,u,l,f=b("(",")",e);return f?"var"!==f.pre.slice(-3)?f.pre+"(".concat(m(f.body,r),")")+m(f.post,r):0===f.body.trim().length?(r.onWarning("var() must contain a non-whitespace string"),e):f.pre.slice(0,-3)+(a=f.body,s=a.split(",")[0].replace(/[\s\n\t]/g,""),i=(a.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],c=Object.prototype.hasOwnProperty.call(r.variables,s)?String(r.variables[s]):void 0,u=c||(i?String(i):void 0),l=o||a,c||r.onWarning('variable "'.concat(s,'" is undefined')),u&&"undefined"!==u&&0<u.length?m(u,r,l):"var(".concat(l,")"))+m(f.post,r):(-1!==e.indexOf("var(")&&r.onWarning('missing closing ")" in the value "'.concat(e,'"')),e)}var O="undefined"!=typeof window,A=O&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),j={group:0,job:0},x={rootElement:O?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onWarning:function(){},onError:function(){},onSuccess:function(){},onComplete:function(){}},_={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},C={dom:{},job:{},user:{}},T=!1,k=null,M=0,L=null,q=!1;
/**
 * Fetches, parses, and transforms CSS custom properties from specified
 * <style> and <link> elements into static values, then appends a new <style>
 * element with static values to the DOM to provide CSS custom property
 * compatibility for legacy browsers. Also provides a single interface for
 * live updates of runtime values in both modern and legacy browsers.
 *
 * @preserve
 * @param {object}   [options] Options object
 * @param {object}   [options.rootElement=document] Root element to traverse for
 *                   <link> and <style> nodes
 * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>
 *                   and <style> nodes will be processed.
 * @param {string}   [options.include="style,link[rel=stylesheet]"] CSS selector
 *                   matching <link re="stylesheet"> and <style> nodes to
 *                   process
 * @param {string}   [options.exclude] CSS selector matching <link
 *                   rel="stylehseet"> and <style> nodes to exclude from those
 *                   matches by options.include
 * @param {object}   [options.variables] A map of custom property name/value
 *                   pairs. Property names can omit or include the leading
 *                   double-hyphen (—), and values specified will override
 *                   previous values
 * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will
 *                   only generate legacy-compatible CSS in browsers that lack
 *                   native support (i.e., legacy browsers)
 * @param {boolean}  [options.preserveStatic=true] Determines if CSS
 *                   declarations that do not reference a custom property will
 *                   be preserved in the transformed CSS
 * @param {boolean}  [options.preserveVars=false] Determines if CSS custom
 *                   property declarations will be preserved in the transformed
 *                   CSS
 * @param {boolean}  [options.silent=false] Determines if warning and error
 *                   messages will be displayed on the console
 * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will
 *                   update the DOM after processing CSS custom properties
 * @param {boolean}  [options.updateURLs=true] Determines if the ponyfill will
 *                   convert relative url() paths to absolute urls
 * @param {boolean}  [options.watch=false] Determines if a MutationObserver will
 *                   be created that will execute the ponyfill when a <link> or
 *                   <style> DOM mutation is observed
 * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes
 *                   1) the XHR object, 2) source node reference, and 3) the
 *                   source URL as arguments
 * @param {function} [options.onWarning] Callback after each CSS parsing warning
 *                   has occurred. Passes 1) a warning message as an argument.
 * @param {function} [options.onError] Callback after a CSS parsing error has
 *                   occurred or an XHR request has failed. Passes 1) an error
 *                   message, and 2) source node reference, 3) xhr, and 4 url as
 *                   arguments.
 * @param {function} [options.onSuccess] Callback after CSS data has been
 *                   collected from each node and before CSS custom properties
 *                   have been transformed. Allows modifying the CSS data before
 *                   it is transformed by returning any string value (or false
 *                   to skip). Passes 1) CSS text, 2) source node reference, and
 *                   3) the source URL as arguments.
 * @param {function} [options.onComplete] Callback after all CSS has been
 *                   processed, legacy-compatible CSS has been generated, and
 *                   (optionally) the DOM has been updated. Passes 1) a CSS
 *                   string with CSS variable values resolved, 2) an array of
 *                   output <style> node references that have been appended to
 *                   the DOM, 3) an object containing all custom properies names
 *                   and values, and 4) the ponyfill execution time in
 *                   milliseconds.
 *
 * @example
 *
 *   cssVars({
 *     rootElement   : document,
 *     shadowDOM     : false,
 *     include       : 'style,link[rel="stylesheet"]',
 *     exclude       : '',
 *     variables     : {},
 *     onlyLegacy    : true,
 *     preserveStatic: true,
 *     preserveVars  : false,
 *     silent        : false,
 *     updateDOM     : true,
 *     updateURLs    : true,
 *     watch         : false,
 *     onBeforeSend(xhr, node, url) {},
 *     onWarning(message) {},
 *     onError(message, node, xhr, url) {},
 *     onSuccess(cssText, node, url) {},
 *     onComplete(cssText, styleNode, cssVariables, benchmark) {}
 *   });
 */
function D(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o="cssVars(): ",p=g({},x,n);function m(e,t,n,r){!p.silent&&window.console&&console.error("".concat(o).concat(e,"\n"),t),p.onError(e,t,n,r)}function v(e){!p.silent&&window.console&&console.warn("".concat(o).concat(e)),p.onWarning(e)}if(O){if(p.watch)return p.watch=x.watch,function(i){function o(e){return"LINK"===e.tagName&&-1!==(e.getAttribute("rel")||"").indexOf("stylesheet")&&!e.disabled}function r(e){return Array.apply(null,e).some(function(e){var t,n=1===e.nodeType&&e.hasAttribute("data-cssvars"),r="STYLE"===(t=e).tagName&&!t.disabled&&_.cssVars.test(e.textContent);return!n&&(o(e)||r)})}if(!window.MutationObserver)return;k&&(k.disconnect(),k=null);(k=new MutationObserver(function(e){e.some(function(e){var t,n=!1;return"attributes"===e.type?n=o(e.target):"childList"===e.type&&(n=r(e.addedNodes)||(t=e.removedNodes,Array.apply(null,t).some(function(e){var t=1===e.nodeType,n=t&&"out"===e.getAttribute("data-cssvars"),r=t&&"src"===e.getAttribute("data-cssvars"),o=r;if(r||n){var a=e.getAttribute("data-cssvars-group"),s=i.rootElement.querySelector('[data-cssvars-group="'.concat(a,'"]'));r&&(I(i.rootElement),C.dom={}),s&&s.parentNode.removeChild(s)}return o}))),n})&&D(i)})).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0})}(p),void D(p);if(!1===p.watch&&k&&(k.disconnect(),k=null),!p.__benchmark){if(T===p.rootElement)return void function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(L),L=setTimeout(function(){e.__benchmark=null,D(e)},t)}(n);if(p.__benchmark=R(),p.exclude=[k?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',p.exclude].filter(function(e){return e}).join(","),p.variables=function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=/^-{2}/;return Object.keys(n).reduce(function(e,t){return e[r.test(t)?t:"--".concat(t.replace(/^-+/,""))]=n[t],e},{})}(p.variables),!k)if(Array.apply(null,p.rootElement.querySelectorAll('[data-cssvars="out"]')).forEach(function(e){var t=e.getAttribute("data-cssvars-group");(t?p.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(t,'"]')):null)||e.parentNode.removeChild(e)}),M){var e=p.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])');e.length<M&&(M=e.length,C.dom={})}}if("loading"!==document.readyState)if(A&&p.onlyLegacy){if(p.updateDOM){var t=p.rootElement.host||(p.rootElement===document?document.documentElement:p.rootElement);Object.keys(p.variables).forEach(function(e){t.style.setProperty(e,p.variables[e])})}}else!q&&(p.shadowDOM||p.rootElement.shadowRoot||p.rootElement.host)?a({rootElement:x.rootElement,include:x.include,exclude:p.exclude,onSuccess:function(e){return(e=((e=e.replace(_.cssComments,"").replace(_.cssMediaQueries,"")).match(_.cssVarDeclRules)||[]).join(""))||!1},onComplete:function(e){S(e,{store:C.dom,onWarning:v}),q=!0,D(p)}}):(T=p.rootElement,a({rootElement:p.rootElement,include:p.include,exclude:p.exclude,onBeforeSend:p.onBeforeSend,onError:function(e,t,n){var r=e.responseURL||N(n,location.href),o=e.statusText?"(".concat(e.statusText,")"):"Unspecified Error"+(0===e.status?" (possibly CORS related)":"");m("CSS XHR Error: ".concat(r," ").concat(e.status," ").concat(o),t,e,r)},onSuccess:function(e,t,n){var r,o,a=p.onSuccess(e,t,n);return e=void 0!==a&&!1===Boolean(a)?"":a||e,p.updateURLs&&(o=n,((r=e).replace(_.cssComments,"").match(_.cssUrls)||[]).forEach(function(e){var t=e.replace(_.cssUrls,"$1"),n=N(t,o);r=r.replace(e,e.replace(t,n))}),e=r),e},onComplete:function(e,r,t){var n,o=2<arguments.length&&void 0!==t?t:[],a={},s=p.updateDOM?C.dom:Object.keys(C.job).length?C.job:C.job=JSON.parse(JSON.stringify(C.dom));if(o.forEach(function(t,e){if(_.cssVars.test(r[e]))try{var n=h(r[e],{preserveStatic:p.preserveStatic,removeComments:!0});S(n,{parseHost:Boolean(p.rootElement.host),store:a,onWarning:v}),t.__cssVars={tree:n}}catch(e){m(e.message,t)}}),p.updateDOM&&g(C.user,p.variables),g(a,p.variables),n=Boolean((document.querySelector("[data-cssvars]")||Object.keys(C.dom).length)&&Object.keys(a).some(function(e){return a[e]!==s[e]})),g(s,C.user,a),n)I(p.rootElement),D(p);else{var i=[],c=[],u=!1;if(C.job={},p.updateDOM&&j.job++,o.forEach(function(t){var e=!t.__cssVars;if(t.__cssVars)try{w(t.__cssVars.tree,g({},p,{variables:s,onWarning:v}));var n=E(t.__cssVars.tree);if(p.updateDOM){if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),n.length){var r=t.getAttribute("data-cssvars-group")||++j.group,o=n.replace(/\s/g,""),a=p.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(r,'"]'))||document.createElement("style");u=u||_.cssKeyframes.test(n),a.hasAttribute("data-cssvars")||a.setAttribute("data-cssvars","out"),o===t.textContent.replace(/\s/g,"")?(e=!0,a&&a.parentNode&&(t.removeAttribute("data-cssvars-group"),a.parentNode.removeChild(a))):o!==a.textContent.replace(/\s/g,"")&&([t,a].forEach(function(e){e.setAttribute("data-cssvars-job",j.job),e.setAttribute("data-cssvars-group",r)}),a.textContent=n,i.push(n),c.push(a),a.parentNode||t.parentNode.insertBefore(a,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==n&&i.push(n)}catch(e){m(e.message,t)}e&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",j.job)}),M=p.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,p.shadowDOM)for(var l,f=[p.rootElement].concat(y(p.rootElement.querySelectorAll("*"))),d=0;l=f[d];++d){if(l.shadowRoot&&l.shadowRoot.querySelector("style"))D(g({},p,{rootElement:l.shadowRoot}))}p.updateDOM&&u&&function(e){var t=["animation-name","-moz-animation-name","-webkit-animation-name"].filter(function(e){return getComputedStyle(document.body)[e]})[0];if(t){for(var n=e.getElementsByTagName("*"),r=[],o="__CSSVARSPONYFILL-KEYFRAMES__",a=0,s=n.length;a<s;a++){var i=n[a];"none"!==getComputedStyle(i)[t]&&(i.style[t]+=o,r.push(i))}document.body.offsetHeight;for(var c=0,u=r.length;c<u;c++){var l=r[c].style;l[t]=l[t].replace(o,"")}}}(p.rootElement),T=!1,p.onComplete(i.join(""),c,JSON.parse(JSON.stringify(s)),R()-p.__benchmark)}}}));else document.addEventListener("DOMContentLoaded",function e(t){D(n),document.removeEventListener("DOMContentLoaded",e)})}}function N(e,t){var n=1<arguments.length&&void 0!==t?t:location.href,r=document.implementation.createHTMLDocument(""),o=r.createElement("base"),a=r.createElement("a");return r.head.appendChild(o),r.body.appendChild(a),o.href=n,a.href=e,a.href}function R(){return O&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function I(e){Array.apply(null,e.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]')).forEach(function(e){return e.setAttribute("data-cssvars","")})}D.reset=function(){for(var e in T=!1,k&&(k.disconnect(),k=null),M=0,L=null,q=!1,C)C[e]={}};function v(e){return e.keys().map(e)}function B(){V.forEach(function(e){return"function"==typeof e.default&&e.default()}),U.forEach(function(e){return"function"==typeof e.default&&e.default()}),F({include:"#your-chat-style-css,#your-chat-style-css-custom"})}var F=D,V=v(n(5)),U=v(n(8));o()(document).ready(function(){return function(){var e=o()(".your-chat__bubble"),t=o()(".your-chat__panel");if(e.length||t.length){var n=e.length+t.length,r=0;e.each(function(){var t=this,e={action:"your-chat/get-bubble-template",id:o()(this).data("chat-id")||""};o.a.post(ajaxurl,e).done(function(e){o()(t).replaceWith(e),++r>=n&&B()}).fail(function(e,t,n){})}),t.each(function(){var t=this,e={action:"your-chat/get-panel-template",id:o()(this).data("chat-id")||""};o.a.post(ajaxurl,e).done(function(e){o()(t).replaceWith(e),++r>=n&&B()}).fail(function(e,t,n){})})}}()})}]);
//# sourceMappingURL=main.bundle.js.map